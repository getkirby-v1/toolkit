<!DOCTYPE html>
<!-- saved from url=(0032)http://getkirby.com/docs/session -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>Kirby</title>


<meta name="description" content="Kirby is a super simple, designy PHP toolkit">
<meta name="keywords" content="php, toolkit, jquery, simple, design">
<meta name="author" content="Bastian Allgeier">
<meta http-equiv="imagetoolbar" content="no">

<link rel="shortcut icon" href="http://getkirby.com/favicon.ico">

<link rel="stylesheet" href="./session_files/styles.css" media="all" type="text/css">

<link rel="stylesheet" type="text/css" media="screen" href="./session_files/Flame.twilight.css"><script src="./session_files/Fuel.php.js" type="text/javascript"></script></head>

<body>

<div id="page">

  <div id="menu">
  
    <ul>
            <li><a href="http://getkirby.com/home">kirby</a></li>
            <li><a class="active" href="http://getkirby.com/docs">docs</a></li>
            <li><a href="http://getkirby.com/download">download</a></li>
            <li><a href="http://getkirby.com/plugins">plugins</a></li>
          </ul>
  
  </div>
  
  <div id="content" class="docs">
  <h1>Documentation</h1>


<ul id="docsmenu">
    <li><a href="http://getkirby.com/docs/array">array</a></li>
      <li><a href="http://getkirby.com/docs/browser">browser</a></li>
      <li><a href="http://getkirby.com/docs/config">config</a></li>
      <li><a href="http://getkirby.com/docs/content">content</a></li>
      <li><a href="http://getkirby.com/docs/cookie">cookie</a></li>
      <li><a href="http://getkirby.com/docs/core">core</a></li>
      <li><a href="http://getkirby.com/docs/database">database</a></li>
      <li><a href="http://getkirby.com/docs/dir">dir</a></li>
      <li><a href="http://getkirby.com/docs/file">file</a></li>
      <li><a href="http://getkirby.com/docs/globals">globals</a></li>
      <li><a href="http://getkirby.com/docs/helper">helper</a></li>
      <li><a href="http://getkirby.com/docs/language">language</a></li>
      <li><a href="http://getkirby.com/docs/request">request</a></li>
      <li><a href="http://getkirby.com/docs/server">server</a></li>
      <li><a class="active" href="./session_files/session.htm">session</a></li>
      <li><a href="http://getkirby.com/docs/size">size</a></li>
      <li><a href="http://getkirby.com/docs/string">string</a></li>
      <li><a href="http://getkirby.com/docs/url">url</a></li>
      <li><a href="http://getkirby.com/docs/validation">validation</a></li>
      <li><a href="http://getkirby.com/docs/xml">xml</a></li>
  </ul>

<div id="documentation">
<h2>S (Session)</h2>

<p>The s class helps to handle sessions a bit easier.</p>

<h3>Function: s::set</h3>

<p>Set a new session variable</p>

<h4>Syntax</h4>

<pre><code style="display: none; ">s::set('key'[, 'value']);
</code><pre class="twilightLighter"><span class="kw4">s</span>::<span class="me1">set</span><span class="br0">(</span><span class="st0">'key'</span><span class="br0">[</span>, <span class="st0">'value'</span><span class="br0">]</span><span class="br0">)</span>;</pre></pre>

<h4>Arguments</h4>

<ol>
<li>key - (mixed) either the key or an array with multiple key/value pairs</li>
<li>value - (mixed) can be pretty much anything</li>
</ol>

<h4>Example</h4>

<pre><code style="display: none; ">s::set('username', 'bastian');
// saves the username in the session

s::set(array(
    'key1' =&gt; 'val1',
    'key2' =&gt; 'val2',
    'key3' =&gt; 'val3'
));
// setting multiple variables at once
</code><pre class="twilightLighter"><span class="kw4">s</span>::<span class="me1">set</span><span class="br0">(</span><span class="st0">'username'</span>, <span class="st0">'bastian'</span><span class="br0">)</span>;<span class="co1">
// saves the username in the session</span>

<span class="kw4">s</span>::<span class="me1">set</span><span class="br0">(</span><span class="me1">array</span><span class="br0">(</span>
    <span class="st0">'key1'</span> =&gt; <span class="st0">'val1'</span>,
    <span class="st0">'key2'</span> =&gt; <span class="st0">'val2'</span>,
    <span class="st0">'key3'</span> =&gt; <span class="st0">'val3'</span>
<span class="br0">)</span><span class="br0">)</span>;<span class="co1">
// setting multiple variables at once</span></pre></pre>

<hr>

<h3>Function: s::get</h3>

<p>Get back a value from the session, you've stored earlier.</p>

<h4>Syntax</h4>

<pre><code style="display: none; ">s::get('key'[, 'default']);
</code><pre class="twilightLighter"><span class="kw4">s</span>::<span class="me1">get</span><span class="br0">(</span><span class="st0">'key'</span><span class="br0">[</span>, <span class="st0">'default'</span><span class="br0">]</span><span class="br0">)</span>;</pre></pre>

<h4>Arguments</h4>

<ol>
<li>key - (string) the key where you've stored the value</li>
<li>default - (mixed) can be pretty much anything to return when the key has not been found</li>
</ol>

<h4>Returns</h4>

<ul>
<li>(mixed) returns whatever is stored with this key</li>
</ul>

<h4>Example</h4>

<pre><code style="display: none; ">s::get('username', 'bastian');
// saves the username in the session

echo s::get('username');
// output: 'bastian'
</code><pre class="twilightLighter"><span class="kw4">s</span>::<span class="me1">get</span><span class="br0">(</span><span class="st0">'username'</span>, <span class="st0">'bastian'</span><span class="br0">)</span>;<span class="co1">
// saves the username in the session</span>

<span class="kw1">echo</span> <span class="kw4">s</span>::<span class="me1">get</span><span class="br0">(</span><span class="st0">'username'</span><span class="br0">)</span>;<span class="co1">
// output: 'bastian'</span></pre></pre>

<hr>

<h3>Function: s::remove</h3>

<p>Remove a value from the session</p>

<h4>Syntax</h4>

<pre><code style="display: none; ">s::remove('key');
</code><pre class="twilightLighter"><span class="kw4">s</span>::<span class="me1">remove</span><span class="br0">(</span><span class="st0">'key'</span><span class="br0">)</span>;</pre></pre>

<h4>Arguments</h4>

<ol>
<li>key - (string) the key where you've stored the value</li>
</ol>

<h4>Example</h4>

<pre><code style="display: none; ">$_SESSION = array(
    'username' =&gt; 'bastian',
    'id' =&gt; 1,
);

s::remove('username');
// $_SESSION = array(
//    'id' =&gt; 1
// )
</code><pre class="twilightLighter"><span class="kw3">$_SESSION</span> = <span class="me1">array</span><span class="br0">(</span>
    <span class="st0">'username'</span> =&gt; <span class="st0">'bastian'</span>,
    <span class="st0">'id'</span> =&gt; <span class="nu0">1</span>,
<span class="br0">)</span>;

<span class="kw4">s</span>::<span class="me1">remove</span><span class="br0">(</span><span class="st0">'username'</span><span class="br0">)</span>;<span class="co1">
// $_SESSION = array(</span><span class="co1">
//    'id' =&gt; 1</span><span class="co1">
// )</span></pre></pre>

<hr>

<h3>Function: s::start</h3>

<p>Start a new session. It's just a shortcut for session_start, so you can use that as well.</p>

<h4>Syntax</h4>

<pre><code style="display: none; ">s::start();
</code><pre class="twilightLighter"><span class="kw4">s</span>::<span class="me1">start</span><span class="br0">(</span><span class="br0">)</span>;</pre></pre>

<h4>Example</h4>

<pre><code style="display: none; ">s::start();

// do whatever you want with the session now
</code><pre class="twilightLighter"><span class="kw4">s</span>::<span class="me1">start</span><span class="br0">(</span><span class="br0">)</span>;
<span class="co1">
// do whatever you want with the session now</span></pre></pre>

<hr>

<h3>Function: s::destroy</h3>

<p>Destroy the session, i.e. for logouts. It's just a shortcut for session_destroy, so you can use that as well.</p>

<h4>Syntax</h4>

<pre><code style="display: none; ">s::destroy();
</code><pre class="twilightLighter"><span class="kw4">s</span>::<span class="me1">destroy</span><span class="br0">(</span><span class="br0">)</span>;</pre></pre>

<h4>Example</h4>

<pre><code style="display: none; ">s::start();
// do whatever you want with the session now

s::destroy();
// everything stored in the session will be deleted
</code><pre class="twilightLighter"><span class="kw4">s</span>::<span class="me1">start</span><span class="br0">(</span><span class="br0">)</span>;<span class="co1">
// do whatever you want with the session now</span>

<span class="kw4">s</span>::<span class="me1">destroy</span><span class="br0">(</span><span class="br0">)</span>;<span class="co1">
// everything stored in the session will be deleted</span></pre></pre>

<hr>

<h3>Function: s::expired</h3>

<p>Checks, whether the session has expired</p>

<h4>Syntax</h4>

<pre><code style="display: none; ">s::expired('time');
</code><pre class="twilightLighter"><span class="kw4">s</span>::<span class="me1">expired</span><span class="br0">(</span><span class="st0">'time'</span><span class="br0">)</span>;</pre></pre>

<h4>Arguments</h4>

<ol>
<li>time - (timestamp) the time when the session has been started</li>
</ol>

<h4>Returns</h4>

<ul>
<li>(boolean) true: the session has expired, false: the session is still valid</li>
</ul>

<h4>Note</h4>

<p>you must define how long the session stays valid in the config array:</p>

<pre><code style="display: none; ">c::set('session.expires', 3600);
// define the time in seconds, i.e. 1 hour
</code><pre class="twilightLighter"><span class="kw4">c</span>::<span class="me1">set</span><span class="br0">(</span><span class="st0">'session.expires'</span>, <span class="nu0">3600</span><span class="br0">)</span>;<span class="co1">
// define the time in seconds, i.e. 1 hour</span></pre></pre>

<h4>Example</h4>

<pre><code style="display: none; ">c::set('session.expires', 3600);

if( s::expired('sometimestamp-yesterday') ) echo 'your session has expired';
// output 'your session has expired'

if( s::expired('sometimestamp-two-minutes-ago') ) echo 'your session has expired';
// output nothing
</code><pre class="twilightLighter"><span class="kw4">c</span>::<span class="me1">set</span><span class="br0">(</span><span class="st0">'session.expires'</span>, <span class="nu0">3600</span><span class="br0">)</span>;

<span class="me1">if</span><span class="br0">(</span> <span class="kw4">s</span>::<span class="me1">expired</span><span class="br0">(</span><span class="st0">'sometimestamp-yesterday'</span><span class="br0">)</span> <span class="br0">)</span> <span class="kw1">echo</span> <span class="st0">'your session has expired'</span>;<span class="co1">
// output 'your session has expired'</span>

<span class="me1">if</span><span class="br0">(</span> <span class="kw4">s</span>::<span class="me1">expired</span><span class="br0">(</span><span class="st0">'sometimestamp-two-minutes-ago'</span><span class="br0">)</span> <span class="br0">)</span> <span class="kw1">echo</span> <span class="st0">'your session has expired'</span>;<span class="co1">
// output nothing</span></pre></pre>

<hr>
</div>  </div>

  <div id="footer">
    © 2010 –&nbsp;<a href="http://bastian-allgeier.de/">Bastian Allgeier</a>
    <ul>
      <li><a href="http://twitter.com/getkirby">Follow Kirby on Twitter</a></li>
    </ul>
  </div>

</div>

<script type="text/javascript" src="./session_files/mootools.js"></script>
<script type="text/javascript" src="./session_files/Lighter.js"></script>
<script type="text/javascript" src="./session_files/Fuel.js"></script>
<script type="text/javascript" src="./session_files/scripts.js"></script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script><script src="./session_files/ga.js" type="text/javascript"></script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-431401-11");
pageTracker._trackPageview();
} catch(err) {}</script>




</body></html>